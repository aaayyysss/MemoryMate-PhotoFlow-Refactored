2025-12-08 16:44:40,170 [INFO] [FaceClusterWorker] Complete in 0.1s: 36 person clusters + 0 unidentified faces
[FaceCluster] Clustering complete: 36 branches created
[FaceCluster] Complete: 36 person groups created
[SidebarQt] reload() called, display_mode=list, tabs_visible=False
[SidebarQt] Calling _build_tree_model() instead of tabs refresh
[SidebarQt] _build_tree_model() called with project_id=1
[Sidebar] Detaching old model from tree view
[Sidebar] Pending events processed (skipped explicit processEvents)
[Sidebar] Creating fresh model (avoiding Qt segfault)
[Sidebar] Attaching fresh model to tree view
[SidebarQt] list_branches() returned 1 branches
[SidebarQt] Sample branches: [{'branch_key': 'all', 'display_name': 'üìÅ All Photos', 'count': 102}]
[Sidebar] Loaded 23 folder counts in batch (performance optimization)
[Sidebar] Loaded date counts in batch: 3 years, 15 months, 37 days
[Sidebar] Loading videos for project_id=1
[Sidebar] Found 3 videos in project 1
[VideoDateHierarchy] Building: 1 years, 1 months, 3 videos
[Sidebar] Added üé¨ Videos section with 3 videos and filters.

[Sidebar] ===== Initiating mobile device scan from sidebar =====
[Sidebar] Database: <reference_db.ReferenceDB object at 0x000002ED7FBEA790>
[Sidebar] Register devices: True

[DeviceScanner] ===== Starting device scan  =====
[DeviceScanner] Platform: Windows
[DeviceScanner] Database registration: enabled
[DeviceScanner] Scanning Windows drives...
[DeviceScanner]   Checking drive letters D:-Z:...
[DeviceScanner]   Checking portable devices (MTP/PTP)...
[DeviceScanner]     Attempting Shell COM enumeration...
[DeviceScanner]     COM initialized for current thread
[DeviceScanner]     Found 1 items under 'This PC'
[DeviceScanner]       ‚Üí Item: '(C:) Lokaler Datentr√§ger' | IsFolder=True | IsFileSystem=True
[DeviceScanner]     COM uninitialized
[DeviceScanner] ===== Scan complete: 0 device(s) found =====
[DeviceScanner] Results cached for 5.0s

[Sidebar] ===== Scan complete: 0 mobile device(s) found =====
[Sidebar]   ‚úó No devices found
[Sidebar] ===== End device scan =====

[Sidebar] No mobile devices detected - added help message
[Sidebar] starting async count population for 1 branch targets
[Sidebar][counts worker gen=8] running for 1 targets...
[Sidebar][counts worker gen=8] finished scanning targets, scheduling UI update
[Sidebar][counts applied] updated UI with counts
[16:44:45.066] [AccordionSidebar] Expanding section: people
[16:44:45.069] [AccordionSidebar] Loading content for section: people
[16:44:45.069] [AccordionSidebar] Loading People section...
[16:44:45.069] [AccordionSidebar] Loaded 36 face clusters
[16:44:45.223] [AccordionSidebar] ‚úì People section loaded with 36 clusters
[16:44:45.223] [AccordionSidebar] ‚úì Section expanded: people
[16:44:59.944] [AccordionSidebar] Person activated: facecluster:face_003

[GRID] ====== reload() CALLED ======
[GRID] project_id=1, load_mode=branch
[GRID] Step 1: Setting _reloading=True
[get_images_by_branch] project_id=1, branch_key='all'
[get_images_by_branch] Found 102 photos
[DB_TAGS_DEBUG] Sample normalized paths being queried:
  [0] norm='c:/users/suleimaa/desktop/eigen/1.png'
      orig='c:/users/suleimaa/desktop/eigen/1.png'
  [1] norm='c:/users/suleimaa/desktop/eigen/20241127-lastminutes.png'
      orig='c:/users/suleimaa/desktop/eigen/20241127-lastminutes.png'
  [2] norm='c:/users/suleimaa/desktop/eigen/20250122_g+d genai cheat sheet 1.jpg'
      orig='c:/users/suleimaa/desktop/eigen/20250122_g+d genai cheat sheet 1.jpg'
[DB_TAGS_SQL] Photos query:
                        SELECT pm.path, t.name
                        FROM photo_metadata pm
                        JOIN photo_tags pt ON pt.photo_...
[DB_TAGS_SQL] Videos query:
                        SELECT vm.path, t.name
                        FROM video_metadata vm
                        JOIN video_tags vt ON vt.video_...
[DB_TAGS_SQL] First 3 params: ['c:/users/suleimaa/desktop/eigen/1.png', 'c:/users/suleimaa/desktop/eigen/20241127-lastminutes.png', 'c:/users/suleimaa/desktop/eigen/20250122_g+d genai cheat sheet 1.jpg']
[DB_TAGS_SQL] project_id: 1
[DB_TAGS_SQL] Query returned 0 rows (0 photos + 0 videos)
[DB_TAGS_SQL] No rows returned! Checking if ANY tags exist in DB...
[DB_TAGS_SQL] Sample tagged PHOTOS in DB:
[DB_TAGS_SQL] Sample tagged VIDEOS in DB:
[DB_TAGS] Retrieved 0 tags for 0/102 paths (project_id=1)
[GRID] Fetched tags for 102 paths, got 102 entries
[GRID] Loaded 102 thumbnails.
[GRID] Reloaded 102 thumbnails in branch-mode (base=102)
[GRID] Step 5: Emitting gridReloaded signal...

[Breadcrumb] _update_breadcrumb() CALLED
[Breadcrumb] Grid state: navigation_mode=branch, project_id=1
[Breadcrumb] Looking for CURRENT project_id=1 in 1 projects
[Breadcrumb] Found CURRENT project name: P01
[Breadcrumb] Added project segment: P01
[Breadcrumb] Added branch segment: All Photos
[Breadcrumb] Calling set_path() with 2 segments
[BreadcrumbNav] set_path() called with 2 segments
[BreadcrumbNav] Clearing 3 existing widgets
[BreadcrumbNav] Cleared all existing widgets
[BreadcrumbNav] Added segment 0: P01
[BreadcrumbNav] Added segment 1: All Photos
[BreadcrumbNav] set_path() completed - 2 segments added
[Breadcrumb] set_path() completed successfully
[Breadcrumb] _update_breadcrumb() COMPLETED

[GRID] Step 5: ‚úì gridReloaded signal emitted
[GRID] ====== reload() COMPLETED SUCCESSFULLY ======

[GRID] Finally block: Setting _reloading=False

[GRID] ====== reload() CALLED ======
[GRID] project_id=1, load_mode=branch
[GRID] Step 1: Setting _reloading=True
[get_images_by_branch] project_id=1, branch_key='branch:facecluster:face_003'
[get_images_by_branch] Found 0 photos
[get_images_by_branch] Available branch_keys in DB: ['all', 'by_date:2024-08-11', 'by_date:2024-10-07', 'by_date:2024-11-18', 'by_date:2024-11-29', 'by_date:2024-12-02', 'by_date:2024-12-16', 'by_date:2025-03-07', 'by_date:2025-07-04', 'by_date:2025-07-06']
[GRID] Fetched tags for 0 paths, got 0 entries
[GRID] Loaded 0 thumbnails.
[GRID] Reloaded 0 thumbnails in branch-mode (base=0)
[GRID] Step 5: Emitting gridReloaded signal...

[Breadcrumb] _update_breadcrumb() CALLED
[Breadcrumb] Grid state: navigation_mode=branch, project_id=1
[Breadcrumb] Looking for CURRENT project_id=1 in 1 projects
[Breadcrumb] Found CURRENT project name: P01
[Breadcrumb] Added project segment: P01
[Breadcrumb] Added branch segment: All Photos
[Breadcrumb] Calling set_path() with 2 segments
[BreadcrumbNav] set_path() called with 2 segments
[BreadcrumbNav] Clearing 3 existing widgets
[BreadcrumbNav] Cleared all existing widgets
[BreadcrumbNav] Added segment 0: P01
[BreadcrumbNav] Added segment 1: All Photos
[BreadcrumbNav] set_path() completed - 2 segments added
[Breadcrumb] set_path() completed successfully
[Breadcrumb] _update_breadcrumb() COMPLETED

[GRID] Step 5: ‚úì gridReloaded signal emitted
[GRID] ====== reload() COMPLETED SUCCESSFULLY ======

[GRID] Finally block: Setting _reloading=False
[16:45:16.617] [AccordionSidebar] Person activated: facecluster:face_001

[GRID] ====== reload() CALLED ======
[GRID] project_id=1, load_mode=branch
[GRID] Step 1: Setting _reloading=True
[get_images_by_branch] project_id=1, branch_key='branch:facecluster:face_003'
[get_images_by_branch] Found 0 photos
[get_images_by_branch] Available branch_keys in DB: ['all', 'by_date:2024-08-11', 'by_date:2024-10-07', 'by_date:2024-11-18', 'by_date:2024-11-29', 'by_date:2024-12-02', 'by_date:2024-12-16', 'by_date:2025-03-07', 'by_date:2025-07-04', 'by_date:2025-07-06']
[GRID] Fetched tags for 0 paths, got 0 entries
[GRID] Loaded 0 thumbnails.
[GRID] Reloaded 0 thumbnails in branch-mode (base=0)
[GRID] Step 5: Emitting gridReloaded signal...

[Breadcrumb] _update_breadcrumb() CALLED
[Breadcrumb] Grid state: navigation_mode=branch, project_id=1
[Breadcrumb] Looking for CURRENT project_id=1 in 1 projects
[Breadcrumb] Found CURRENT project name: P01
[Breadcrumb] Added project segment: P01
[Breadcrumb] Added branch segment: All Photos
[Breadcrumb] Calling set_path() with 2 segments
[BreadcrumbNav] set_path() called with 2 segments
[BreadcrumbNav] Clearing 3 existing widgets
[BreadcrumbNav] Cleared all existing widgets
[BreadcrumbNav] Added segment 0: P01
[BreadcrumbNav] Added segment 1: All Photos
[BreadcrumbNav] set_path() completed - 2 segments added
[Breadcrumb] set_path() completed successfully
[Breadcrumb] _update_breadcrumb() COMPLETED

[GRID] Step 5: ‚úì gridReloaded signal emitted
[GRID] ====== reload() COMPLETED SUCCESSFULLY ======

[GRID] Finally block: Setting _reloading=False

[GRID] ====== reload() CALLED ======
[GRID] project_id=1, load_mode=branch
[GRID] Step 1: Setting _reloading=True
[get_images_by_branch] project_id=1, branch_key='branch:facecluster:face_001'
[get_images_by_branch] Found 0 photos
[get_images_by_branch] Available branch_keys in DB: ['all', 'by_date:2024-08-11', 'by_date:2024-10-07', 'by_date:2024-11-18', 'by_date:2024-11-29', 'by_date:2024-12-02', 'by_date:2024-12-16', 'by_date:2025-03-07', 'by_date:2025-07-04', 'by_date:2025-07-06']
[GRID] Fetched tags for 0 paths, got 0 entries
[GRID] Loaded 0 thumbnails.
[GRID] Reloaded 0 thumbnails in branch-mode (base=0)
[GRID] Step 5: Emitting gridReloaded signal...

[Breadcrumb] _update_breadcrumb() CALLED
[Breadcrumb] Grid state: navigation_mode=branch, project_id=1
[Breadcrumb] Looking for CURRENT project_id=1 in 1 projects
[Breadcrumb] Found CURRENT project name: P01
[Breadcrumb] Added project segment: P01
[Breadcrumb] Added branch segment: All Photos
[Breadcrumb] Calling set_path() with 2 segments
[BreadcrumbNav] set_path() called with 2 segments
[BreadcrumbNav] Clearing 3 existing widgets
[BreadcrumbNav] Cleared all existing widgets
[BreadcrumbNav] Added segment 0: P01
[BreadcrumbNav] Added segment 1: All Photos
[BreadcrumbNav] set_path() completed - 2 segments added
[Breadcrumb] set_path() completed successfully
[Breadcrumb] _update_breadcrumb() COMPLETED

[GRID] Step 5: ‚úì gridReloaded signal emitted
[GRID] ====== reload() COMPLETED SUCCESSFULLY ======

[GRID] Finally block: Setting _reloading=False
[16:45:22.122] [AccordionSidebar] Expanding section: people
[16:45:22.130] [AccordionSidebar] Loading content for section: people
[16:45:22.130] [AccordionSidebar] Loading People section...
[16:45:22.130] [AccordionSidebar] Loaded 36 face clusters
[16:45:22.254] [AccordionSidebar] ‚úì People section loaded with 36 clusters
[16:45:22.254] [AccordionSidebar] ‚úì Section expanded: people
[16:45:23.834] [AccordionSidebar] Expanding section: dates
[16:45:23.834] [AccordionSidebar] Loading content for section: dates
[16:45:23.834] [AccordionSidebar] Loading Dates section...
[16:45:23.834] [AccordionSidebar] ‚úì Section expanded: dates
[16:45:23.850] [AccordionSidebar] Loaded 3 years of date data
[16:45:23.868] [AccordionSidebar] ‚úì Dates section loaded with 3 years

[GRID] ====== reload() CALLED ======
[GRID] project_id=1, load_mode=branch
[GRID] Step 1: Setting _reloading=True
[get_images_by_branch] project_id=1, branch_key='branch:facecluster:face_001'
[get_images_by_branch] Found 0 photos
[get_images_by_branch] Available branch_keys in DB: ['all', 'by_date:2024-08-11', 'by_date:2024-10-07', 'by_date:2024-11-18', 'by_date:2024-11-29', 'by_date:2024-12-02', 'by_date:2024-12-16', 'by_date:2025-03-07', 'by_date:2025-07-04', 'by_date:2025-07-06']
[GRID] Fetched tags for 0 paths, got 0 entries
[GRID] Loaded 0 thumbnails.
[GRID] Reloaded 0 thumbnails in branch-mode (base=0)
[GRID] Step 5: Emitting gridReloaded signal...

[Breadcrumb] _update_breadcrumb() CALLED
[Breadcrumb] Grid state: navigation_mode=branch, project_id=1
[Breadcrumb] Looking for CURRENT project_id=1 in 1 projects
[Breadcrumb] Found CURRENT project name: P01
[Breadcrumb] Added project segment: P01
[Breadcrumb] Added branch segment: All Photos
[Breadcrumb] Calling set_path() with 2 segments
[BreadcrumbNav] set_path() called with 2 segments
[BreadcrumbNav] Clearing 3 existing widgets
[BreadcrumbNav] Cleared all existing widgets
[BreadcrumbNav] Added segment 0: P01
[BreadcrumbNav] Added segment 1: All Photos
[BreadcrumbNav] set_path() completed - 2 segments added
[Breadcrumb] set_path() completed successfully
[Breadcrumb] _update_breadcrumb() COMPLETED

[GRID] Step 5: ‚úì gridReloaded signal emitted
[GRID] ====== reload() COMPLETED SUCCESSFULLY ======

[GRID] Finally block: Setting _reloading=False

[GRID] ====== reload() CALLED ======
[GRID] project_id=1, load_mode=branch
[GRID] Step 1: Setting _reloading=True
[DB_TAGS_DEBUG] Sample normalized paths being queried:
  [0] norm='c:/users/suleimaa/desktop/eigen/reisepass/suleimanammar-revised.jpg'
      orig='c:/users/suleimaa/desktop/eigen/reisepass/suleimanammar-revised.jpg'
  [1] norm='c:/users/suleimaa/desktop/eigen/suleimanammar-businesscard.jpg'
      orig='c:/users/suleimaa/desktop/eigen/suleimanammar-businesscard.jpg'
  [2] norm='c:/users/suleimaa/desktop/eigen/20250122_g+d genai cheat sheet 1.jpg'
      orig='c:/users/suleimaa/desktop/eigen/20250122_g+d genai cheat sheet 1.jpg'
[DB_TAGS_SQL] Photos query:
                        SELECT pm.path, t.name
                        FROM photo_metadata pm
                        JOIN photo_tags pt ON pt.photo_...
[DB_TAGS_SQL] Videos query:
                        SELECT vm.path, t.name
                        FROM video_metadata vm
                        JOIN video_tags vt ON vt.video_...
[DB_TAGS_SQL] First 3 params: ['c:/users/suleimaa/desktop/eigen/reisepass/suleimanammar-revised.jpg', 'c:/users/suleimaa/desktop/eigen/suleimanammar-businesscard.jpg', 'c:/users/suleimaa/desktop/eigen/20250122_g+d genai cheat sheet 1.jpg']
[DB_TAGS_SQL] project_id: 1
[DB_TAGS_SQL] Query returned 0 rows (0 photos + 0 videos)
[DB_TAGS_SQL] No rows returned! Checking if ANY tags exist in DB...
[DB_TAGS_SQL] Sample tagged PHOTOS in DB:
[DB_TAGS_SQL] Sample tagged VIDEOS in DB:
[DB_TAGS] Retrieved 0 tags for 0/71 paths (project_id=1)
[GRID] Fetched tags for 71 paths, got 71 entries
[GRID] Using scroll-based start position: 0 (scroll: 0/718)
[GRID] Near bottom, loading all remaining 30 items
[GRID] Loading viewport range: 0-70 of 71
[GRID] Queued 71 new thumbnail workers
[GRID] Near bottom, loading all remaining 30 items
[GRID] Loading viewport range: 0-70 of 71
[GRID] Near bottom, loading all remaining 30 items
[GRID] Loading viewport range: 0-70 of 71
[GRID] Near bottom, loading all remaining 30 items
[GRID] Loading viewport range: 0-70 of 71
[GRID] Loaded 71 thumbnails.
[GRID] Reloaded 71 thumbnails in date-mode (base=71)
[GRID] Step 5: Emitting gridReloaded signal...

[Breadcrumb] _update_breadcrumb() CALLED
[Breadcrumb] Grid state: navigation_mode=branch, project_id=1
[Breadcrumb] Looking for CURRENT project_id=1 in 1 projects
[Breadcrumb] Found CURRENT project name: P01
[Breadcrumb] Added project segment: P01
[Breadcrumb] Added branch segment: All Photos
[Breadcrumb] Calling set_path() with 2 segments
[BreadcrumbNav] set_path() called with 2 segments
[BreadcrumbNav] Clearing 3 existing widgets
[BreadcrumbNav] Cleared all existing widgets
[BreadcrumbNav] Added segment 0: P01
[BreadcrumbNav] Added segment 1: All Photos
[BreadcrumbNav] set_path() completed - 2 segments added
[Breadcrumb] set_path() completed successfully
[Breadcrumb] _update_breadcrumb() COMPLETED

[GRID] Step 5: ‚úì gridReloaded signal emitted
[GRID] ====== reload() COMPLETED SUCCESSFULLY ======

[GRID] Finally block: Setting _reloading=False
[GRID] Near bottom, loading all remaining 30 items
[GRID] Loading viewport range: 0-70 of 71
[GRID] Queued 1 new thumbnail workers
[GRID] Near bottom, loading all remaining 30 items
[GRID] Loading viewport range: 0-70 of 71
[GRID] Queued 10 new thumbnail workers

[GRID] ====== reload() CALLED ======
[GRID] project_id=1, load_mode=date
[GRID] Step 1: Setting _reloading=True
[DB_TAGS_DEBUG] Sample normalized paths being queried:
  [0] norm='c:/users/suleimaa/desktop/eigen/reisepass/suleimanammar-revised.jpg'
      orig='c:/users/suleimaa/desktop/eigen/reisepass/suleimanammar-revised.jpg'
  [1] norm='c:/users/suleimaa/desktop/eigen/suleimanammar-businesscard.jpg'
      orig='c:/users/suleimaa/desktop/eigen/suleimanammar-businesscard.jpg'
  [2] norm='c:/users/suleimaa/desktop/eigen/20250122_g+d genai cheat sheet 1.jpg'
      orig='c:/users/suleimaa/desktop/eigen/20250122_g+d genai cheat sheet 1.jpg'
[DB_TAGS_SQL] Photos query:
                        SELECT pm.path, t.name
                        FROM photo_metadata pm
                        JOIN photo_tags pt ON pt.photo_...
[DB_TAGS_SQL] Videos query:
                        SELECT vm.path, t.name
                        FROM video_metadata vm
                        JOIN video_tags vt ON vt.video_...
[DB_TAGS_SQL] First 3 params: ['c:/users/suleimaa/desktop/eigen/reisepass/suleimanammar-revised.jpg', 'c:/users/suleimaa/desktop/eigen/suleimanammar-businesscard.jpg', 'c:/users/suleimaa/desktop/eigen/20250122_g+d genai cheat sheet 1.jpg']
[DB_TAGS_SQL] project_id: 1
[DB_TAGS_SQL] Query returned 0 rows (0 photos + 0 videos)
[DB_TAGS_SQL] No rows returned! Checking if ANY tags exist in DB...
[DB_TAGS_SQL] Sample tagged PHOTOS in DB:
[DB_TAGS_SQL] Sample tagged VIDEOS in DB:
[DB_TAGS] Retrieved 0 tags for 0/71 paths (project_id=1)
[GRID] Fetched tags for 71 paths, got 71 entries
[GRID] Loaded 71 thumbnails.
[GRID] Reloaded 71 thumbnails in date-mode (base=71)
[GRID] Step 5: Emitting gridReloaded signal...

[Breadcrumb] _update_breadcrumb() CALLED
[Breadcrumb] Grid state: navigation_mode=branch, project_id=1
[Breadcrumb] Looking for CURRENT project_id=1 in 1 projects
[Breadcrumb] Found CURRENT project name: P01
[Breadcrumb] Added project segment: P01
[Breadcrumb] Added branch segment: All Photos
[Breadcrumb] Calling set_path() with 2 segments
[BreadcrumbNav] set_path() called with 2 segments
[BreadcrumbNav] Clearing 3 existing widgets
[BreadcrumbNav] Cleared all existing widgets
[BreadcrumbNav] Added segment 0: P01
[BreadcrumbNav] Added segment 1: All Photos
[BreadcrumbNav] set_path() completed - 2 segments added
[Breadcrumb] set_path() completed successfully
[Breadcrumb] _update_breadcrumb() COMPLETED

[GRID] Step 5: ‚úì gridReloaded signal emitted
[GRID] ====== reload() COMPLETED SUCCESSFULLY ======

[GRID] Finally block: Setting _reloading=False

[GRID] ====== reload() CALLED ======
[GRID] project_id=1, load_mode=date
[GRID] Step 1: Setting _reloading=True
[DB_TAGS_DEBUG] Sample normalized paths being queried:
  [0] norm='c:/users/suleimaa/desktop/eigen/syria/_screenshots/screenshot_1764691385.png'
      orig='c:/users/suleimaa/desktop/eigen/syria/_screenshots/screenshot_1764691385.png'
[DB_TAGS_SQL] Photos query:
                        SELECT pm.path, t.name
                        FROM photo_metadata pm
                        JOIN photo_tags pt ON pt.photo_...
[DB_TAGS_SQL] Videos query:
                        SELECT vm.path, t.name
                        FROM video_metadata vm
                        JOIN video_tags vt ON vt.video_...
[DB_TAGS_SQL] First 3 params: ['c:/users/suleimaa/desktop/eigen/syria/_screenshots/screenshot_1764691385.png']
[DB_TAGS_SQL] project_id: 1
[DB_TAGS_SQL] Query returned 0 rows (0 photos + 0 videos)
[DB_TAGS_SQL] No rows returned! Checking if ANY tags exist in DB...
[DB_TAGS_SQL] Sample tagged PHOTOS in DB:
[DB_TAGS_SQL] Sample tagged VIDEOS in DB:
[DB_TAGS] Retrieved 0 tags for 0/1 paths (project_id=1)
[GRID] Fetched tags for 1 paths, got 1 entries
[GRID] Loaded 1 thumbnails.
[GRID] Reloaded 1 thumbnails in date-mode (base=1)
[GRID] Step 5: Emitting gridReloaded signal...

[Breadcrumb] _update_breadcrumb() CALLED
[Breadcrumb] Grid state: navigation_mode=branch, project_id=1
[Breadcrumb] Looking for CURRENT project_id=1 in 1 projects
[Breadcrumb] Found CURRENT project name: P01
[Breadcrumb] Added project segment: P01
[Breadcrumb] Added branch segment: All Photos
[Breadcrumb] Calling set_path() with 2 segments
[BreadcrumbNav] set_path() called with 2 segments
[BreadcrumbNav] Clearing 3 existing widgets
[BreadcrumbNav] Cleared all existing widgets
[BreadcrumbNav] Added segment 0: P01
[BreadcrumbNav] Added segment 1: All Photos
[BreadcrumbNav] set_path() completed - 2 segments added
[Breadcrumb] set_path() completed successfully
[Breadcrumb] _update_breadcrumb() COMPLETED

[GRID] Step 5: ‚úì gridReloaded signal emitted
[GRID] ====== reload() COMPLETED SUCCESSFULLY ======

[GRID] Finally block: Setting _reloading=False
[GRID] Using scroll-based start position: 0 (scroll: 0/0)
[GRID] Loading viewport range: 0-0 of 1
[GRID] Queued 1 new thumbnail workers
[GRID] Loading viewport range: 0-0 of 1
[GRID] Queued 1 new thumbnail workers

[GRID] ====== reload() CALLED ======
[GRID] project_id=1, load_mode=date
[GRID] Step 1: Setting _reloading=True
[DB_TAGS_DEBUG] Sample normalized paths being queried:
  [0] norm='c:/users/suleimaa/desktop/eigen/syria/_screenshots/screenshot_1764691385.png'
      orig='c:/users/suleimaa/desktop/eigen/syria/_screenshots/screenshot_1764691385.png'
[DB_TAGS_SQL] Photos query:
                        SELECT pm.path, t.name
                        FROM photo_metadata pm
                        JOIN photo_tags pt ON pt.photo_...
[DB_TAGS_SQL] Videos query:
                        SELECT vm.path, t.name
                        FROM video_metadata vm
                        JOIN video_tags vt ON vt.video_...
[DB_TAGS_SQL] First 3 params: ['c:/users/suleimaa/desktop/eigen/syria/_screenshots/screenshot_1764691385.png']
[DB_TAGS_SQL] project_id: 1
[DB_TAGS_SQL] Query returned 0 rows (0 photos + 0 videos)
[DB_TAGS_SQL] No rows returned! Checking if ANY tags exist in DB...
[DB_TAGS_SQL] Sample tagged PHOTOS in DB:
[DB_TAGS_SQL] Sample tagged VIDEOS in DB:
[DB_TAGS] Retrieved 0 tags for 0/1 paths (project_id=1)
[GRID] Fetched tags for 1 paths, got 1 entries
[GRID] Loaded 1 thumbnails.
[GRID] Reloaded 1 thumbnails in date-mode (base=1)
[GRID] Step 5: Emitting gridReloaded signal...

[Breadcrumb] _update_breadcrumb() CALLED
[Breadcrumb] Grid state: navigation_mode=branch, project_id=1
[Breadcrumb] Looking for CURRENT project_id=1 in 1 projects
[Breadcrumb] Found CURRENT project name: P01
[Breadcrumb] Added project segment: P01
[Breadcrumb] Added branch segment: All Photos
[Breadcrumb] Calling set_path() with 2 segments
[BreadcrumbNav] set_path() called with 2 segments
[BreadcrumbNav] Clearing 3 existing widgets
[BreadcrumbNav] Cleared all existing widgets
[BreadcrumbNav] Added segment 0: P01
[BreadcrumbNav] Added segment 1: All Photos
[BreadcrumbNav] set_path() completed - 2 segments added
[Breadcrumb] set_path() completed successfully
[Breadcrumb] _update_breadcrumb() COMPLETED

[GRID] Step 5: ‚úì gridReloaded signal emitted
[GRID] ====== reload() COMPLETED SUCCESSFULLY ======

[GRID] Finally block: Setting _reloading=False

[GRID] ====== reload() CALLED ======
[GRID] project_id=1, load_mode=date
[GRID] Step 1: Setting _reloading=True
[DB_TAGS_DEBUG] Sample normalized paths being queried:
  [0] norm='c:/users/suleimaa/desktop/eigen/lufthansainternet.png'
      orig='c:/users/suleimaa/desktop/eigen/lufthansainternet.png'
[DB_TAGS_SQL] Photos query:
                        SELECT pm.path, t.name
                        FROM photo_metadata pm
                        JOIN photo_tags pt ON pt.photo_...
[DB_TAGS_SQL] Videos query:
                        SELECT vm.path, t.name
                        FROM video_metadata vm
                        JOIN video_tags vt ON vt.video_...
[DB_TAGS_SQL] First 3 params: ['c:/users/suleimaa/desktop/eigen/lufthansainternet.png']
[DB_TAGS_SQL] project_id: 1
[DB_TAGS_SQL] Query returned 0 rows (0 photos + 0 videos)
[DB_TAGS_SQL] No rows returned! Checking if ANY tags exist in DB...
[DB_TAGS_SQL] Sample tagged PHOTOS in DB:
[DB_TAGS_SQL] Sample tagged VIDEOS in DB:
[DB_TAGS] Retrieved 0 tags for 0/1 paths (project_id=1)
[GRID] Fetched tags for 1 paths, got 1 entries
[GRID] Loaded 1 thumbnails.
[GRID] Reloaded 1 thumbnails in date-mode (base=1)
[GRID] Step 5: Emitting gridReloaded signal...

[Breadcrumb] _update_breadcrumb() CALLED
[Breadcrumb] Grid state: navigation_mode=branch, project_id=1
[Breadcrumb] Looking for CURRENT project_id=1 in 1 projects
[Breadcrumb] Found CURRENT project name: P01
[Breadcrumb] Added project segment: P01
[Breadcrumb] Added branch segment: All Photos
[Breadcrumb] Calling set_path() with 2 segments
[BreadcrumbNav] set_path() called with 2 segments
[BreadcrumbNav] Clearing 3 existing widgets
[BreadcrumbNav] Cleared all existing widgets
[BreadcrumbNav] Added segment 0: P01
[BreadcrumbNav] Added segment 1: All Photos
[BreadcrumbNav] set_path() completed - 2 segments added
[Breadcrumb] set_path() completed successfully
[Breadcrumb] _update_breadcrumb() COMPLETED

[GRID] Step 5: ‚úì gridReloaded signal emitted
[GRID] ====== reload() COMPLETED SUCCESSFULLY ======

[GRID] Finally block: Setting _reloading=False
[GRID] Loading viewport range: 0-0 of 1
[GRID] Queued 1 new thumbnail workers
[GRID] Loading viewport range: 0-0 of 1
[LayoutManager] Switching layout: current ‚Üí google
[LayoutManager] üíæ Took ownership of original central widget: QWidget
[GooglePhotosLayout] Using default project: 1
[GooglePhotosLayout] Project selector populated with 1 projects (+ New Project option)
[16:45:37.301] [AccordionSidebar] AccordionSidebar __init__ started
[16:45:37.301] [AccordionSidebar] Building accordion sections...
[16:45:37.310] [AccordionSidebar] Created 6 sections with nav buttons
[16:45:37.310] [AccordionSidebar] Expanding section: people
[16:45:37.310] [AccordionSidebar] Loading content for section: people
[16:45:37.310] [AccordionSidebar] Loading People section...
[16:45:37.314] [AccordionSidebar] Loaded 36 face clusters
[16:45:37.434] [AccordionSidebar] ‚úì People section loaded with 36 clusters
[16:45:37.434] [AccordionSidebar] ‚úì Section expanded: people
[16:45:37.434] [AccordionSidebar] AccordionSidebar __init__ completed
[GooglePhotosLayout] ‚úÖ Scroll-triggered lazy loading enabled
[GooglePhotosLayout] üì∑ Loading photos from database (thumb size: 200px)...
[GooglePhotosLayout] üîÑ Clearing existing timeline and thumbnail cache...
[GooglePhotosLayout] üîç Scanning database for photos in project 1...
[GooglePhotosLayout] üîç SQL Query:

                SELECT DISTINCT pm.path, pm.created_date as date_taken, pm.width, pm.height
                FROM photo_metadata pm
                JOIN project_images pi ON pm.path = pi.image_path
                WHERE pi.project_id = ?

ORDER BY pm.date_taken DESC
[GooglePhotosLayout] üîç Parameters: [1]
[GooglePhotosLayout] ‚úÖ Found 102 photos in database
[GooglePhotosLayout] üìä Database scan complete - preparing to load thumbnails...
[GooglePhotosLayout] üìÖ Grouping 102 photos by date...
[GooglePhotosLayout] ‚úÖ Grouped into 37 date groups
[GooglePhotosLayout] Tracking 102 paths for multi-selection
[GooglePhotosLayout] üöÄ Setting up virtual scrolling for 37 date groups...
[GooglePhotosLayout] üìê Responsive grid: 2 columns (viewport: 640px, thumb: 200px)
[GooglePhotosLayout] ‚úÖ Virtual scrolling enabled: 37 total date groups
[GooglePhotosLayout] üìä Rendered: 5 groups | Placeholders: 32 groups
[GooglePhotosLayout] üñºÔ∏è Queued 6 thumbnails for loading (initial limit: 50)
[GooglePhotosLayout] ‚úÖ Photo loading complete! Thumbnails will load progressively.
[LayoutManager] Setting new central widget: QWidget
[GooglePhotosLayout] üìç Layout activated
[GooglePhotosLayout] ‚úì Stored Scan Repository handler
[GooglePhotosLayout] ‚úì Stored Detect Faces handler
[LayoutManager] ‚úì Switched to: Google Photos Style
[MainWindow] ‚úì Switched to layout: google
[16:45:48.504] [AccordionSidebar] Person activated: facecluster:face_011
[GooglePhotosLayout] Accordion branch clicked: branch:facecluster:face_011
[GooglePhotosLayout] üì∑ Loading photos from database (thumb size: 200px) [person=facecluster:face_011]...
[GooglePhotosLayout] üîÑ Clearing existing timeline and thumbnail cache...
[GooglePhotosLayout] üîç Scanning database for photos in project 1...
[GooglePhotosLayout] Filtering by person: facecluster:face_011
[GooglePhotosLayout] üîç SQL Query:

                SELECT DISTINCT pm.path, pm.created_date as date_taken, pm.width, pm.height
                FROM photo_metadata pm
                JOIN project_images pi ON pm.path = pi.image_path
                WHERE pi.project_id = ?


                    AND pm.path IN (
                        SELECT DISTINCT image_path
                        FROM face_crops
                        WHERE project_id = ? AND branch_key = ?
                    )

ORDER BY pm.date_taken DESC
[GooglePhotosLayout] üîç Parameters: [1, 1, 'facecluster:face_011']
[GooglePhotosLayout] üîç Person filter: project_id=1, branch_key=facecluster:face_011
[GooglePhotosLayout] ‚úÖ Found 0 photos in database
[GooglePhotosLayout] üìä Database scan complete - preparing to load thumbnails...
[GooglePhotosLayout] No photos found in project 1
[16:45:49.911] [AccordionSidebar] Person activated: facecluster:face_003
[GooglePhotosLayout] Accordion branch clicked: branch:facecluster:face_003
[GooglePhotosLayout] üì∑ Loading photos from database (thumb size: 200px) [person=facecluster:face_003]...
[GooglePhotosLayout] üîÑ Clearing existing timeline and thumbnail cache...
[GooglePhotosLayout] üîç Scanning database for photos in project 1...
[GooglePhotosLayout] Filtering by person: facecluster:face_003
[GooglePhotosLayout] üîç SQL Query:

                SELECT DISTINCT pm.path, pm.created_date as date_taken, pm.width, pm.height
                FROM photo_metadata pm
                JOIN project_images pi ON pm.path = pi.image_path
                WHERE pi.project_id = ?


                    AND pm.path IN (
                        SELECT DISTINCT image_path
                        FROM face_crops
                        WHERE project_id = ? AND branch_key = ?
                    )

ORDER BY pm.date_taken DESC
[GooglePhotosLayout] üîç Parameters: [1, 1, 'facecluster:face_003']
[GooglePhotosLayout] üîç Person filter: project_id=1, branch_key=facecluster:face_003
[GooglePhotosLayout] ‚úÖ Found 0 photos in database
[GooglePhotosLayout] üìä Database scan complete - preparing to load thumbnails...
[GooglePhotosLayout] No photos found in project 1
[16:45:52.947] [AccordionSidebar] Expanding section: dates
[16:45:52.963] [AccordionSidebar] Loading content for section: dates
[16:45:52.963] [AccordionSidebar] Loading Dates section...
[16:45:52.968] [AccordionSidebar] ‚úì Section expanded: dates
[16:45:52.968] [AccordionSidebar] Loaded 3 years of date data
[16:45:53.011] [AccordionSidebar] ‚úì Dates section loaded with 3 years
[16:45:55.204] [AccordionSidebar] Expanding section: folders
[16:45:55.216] [AccordionSidebar] Loading content for section: folders
[16:45:55.216] [AccordionSidebar] Loading Folders section...
[16:45:55.216] [AccordionSidebar] ‚úì Section expanded: folders
[16:45:55.220] [AccordionSidebar] Loaded 23 folders
[16:45:55.248] [AccordionSidebar] ‚úì Folders section loaded with 23 folders
[16:46:00.314] [AccordionSidebar] Expanding section: tags
[16:46:00.314] [AccordionSidebar] Loading content for section: tags
[16:46:00.314] [AccordionSidebar] Loading Tags section...
[16:46:00.314] [AccordionSidebar] ‚úì Section expanded: tags
[16:46:00.314] [AccordionSidebar] Loaded 0 tags
[16:46:01.549] [AccordionSidebar] Expanding section: branches
[16:46:01.561] [AccordionSidebar] Loading content for section: branches
[16:46:01.561] [AccordionSidebar] Loading Branches section...
[16:46:01.561] [AccordionSidebar] ‚úì Section expanded: branches
[16:46:01.565] [AccordionSidebar] Loaded 39 branches
[16:46:01.594] [AccordionSidebar] ‚úì Branches section loaded with 39 branches
[GooglePhotosLayout] Accordion branch clicked: face_000
[GooglePhotosLayout] üì∑ Loading photos from database (thumb size: 200px) [person=face_000]...
[GooglePhotosLayout] üîÑ Clearing existing timeline and thumbnail cache...
[GooglePhotosLayout] üîç Scanning database for photos in project 1...
[GooglePhotosLayout] Filtering by person: face_000
[GooglePhotosLayout] üîç SQL Query:

                SELECT DISTINCT pm.path, pm.created_date as date_taken, pm.width, pm.height
                FROM photo_metadata pm
                JOIN project_images pi ON pm.path = pi.image_path
                WHERE pi.project_id = ?


                    AND pm.path IN (
                        SELECT DISTINCT image_path
                        FROM face_crops
                        WHERE project_id = ? AND branch_key = ?
                    )

ORDER BY pm.date_taken DESC
[GooglePhotosLayout] üîç Parameters: [1, 1, 'face_000']
[GooglePhotosLayout] üîç Person filter: project_id=1, branch_key=face_000
[GooglePhotosLayout] ‚úÖ Found 1 photos in database
[GooglePhotosLayout] üìä Database scan complete - preparing to load thumbnails...
[GooglePhotosLayout] üìÖ Grouping 1 photos by date...
[GooglePhotosLayout] ‚úÖ Grouped into 1 date groups
[GooglePhotosLayout] Tracking 1 paths for multi-selection
[GooglePhotosLayout] üöÄ Setting up virtual scrolling for 1 date groups...
[GooglePhotosLayout] üìê Responsive grid: 6 columns (viewport: 1386px, thumb: 200px)
[GooglePhotosLayout] ‚úÖ Virtual scrolling enabled: 1 total date groups
[GooglePhotosLayout] üìä Rendered: 1 groups | Placeholders: 0 groups
[GooglePhotosLayout] üñºÔ∏è Queued 1 thumbnails for loading (initial limit: 50)
[GooglePhotosLayout] ‚úÖ Photo loading complete! Thumbnails will load progressively.
[GooglePhotosLayout] Accordion branch clicked: face_001
[GooglePhotosLayout] üì∑ Loading photos from database (thumb size: 200px) [person=face_001]...
[GooglePhotosLayout] üîÑ Clearing existing timeline and thumbnail cache...
[GooglePhotosLayout] üîç Scanning database for photos in project 1...
[GooglePhotosLayout] Filtering by person: face_001
[GooglePhotosLayout] üîç SQL Query:

                SELECT DISTINCT pm.path, pm.created_date as date_taken, pm.width, pm.height
                FROM photo_metadata pm
                JOIN project_images pi ON pm.path = pi.image_path
                WHERE pi.project_id = ?


                    AND pm.path IN (
                        SELECT DISTINCT image_path
                        FROM face_crops
                        WHERE project_id = ? AND branch_key = ?
                    )

ORDER BY pm.date_taken DESC
[GooglePhotosLayout] üîç Parameters: [1, 1, 'face_001']
[GooglePhotosLayout] üîç Person filter: project_id=1, branch_key=face_001
[GooglePhotosLayout] ‚úÖ Found 2 photos in database
[GooglePhotosLayout] üìä Database scan complete - preparing to load thumbnails...
[GooglePhotosLayout] üìÖ Grouping 2 photos by date...
[GooglePhotosLayout] ‚úÖ Grouped into 1 date groups
[GooglePhotosLayout] Tracking 2 paths for multi-selection
[GooglePhotosLayout] üöÄ Setting up virtual scrolling for 1 date groups...
[GooglePhotosLayout] ‚úÖ Virtual scrolling enabled: 1 total date groups
[GooglePhotosLayout] üìä Rendered: 1 groups | Placeholders: 0 groups
[GooglePhotosLayout] üñºÔ∏è Queued 2 thumbnails for loading (initial limit: 50)
[GooglePhotosLayout] ‚úÖ Photo loading complete! Thumbnails will load progressively.
[GooglePhotosLayout] Accordion branch clicked: face_003
[GooglePhotosLayout] üì∑ Loading photos from database (thumb size: 200px) [person=face_003]...
[GooglePhotosLayout] üîÑ Clearing existing timeline and thumbnail cache...
[GooglePhotosLayout] üîç Scanning database for photos in project 1...
[GooglePhotosLayout] Filtering by person: face_003
[GooglePhotosLayout] üîç SQL Query:

                SELECT DISTINCT pm.path, pm.created_date as date_taken, pm.width, pm.height
                FROM photo_metadata pm
                JOIN project_images pi ON pm.path = pi.image_path
                WHERE pi.project_id = ?


                    AND pm.path IN (
                        SELECT DISTINCT image_path
                        FROM face_crops
                        WHERE project_id = ? AND branch_key = ?
                    )

ORDER BY pm.date_taken DESC
[GooglePhotosLayout] üîç Parameters: [1, 1, 'face_003']
[GooglePhotosLayout] üîç Person filter: project_id=1, branch_key=face_003
[GooglePhotosLayout] ‚úÖ Found 10 photos in database
[GooglePhotosLayout] üìä Database scan complete - preparing to load thumbnails...
[GooglePhotosLayout] üìÖ Grouping 10 photos by date...
[GooglePhotosLayout] ‚úÖ Grouped into 7 date groups
[GooglePhotosLayout] Tracking 10 paths for multi-selection
[GooglePhotosLayout] üöÄ Setting up virtual scrolling for 7 date groups...
[GooglePhotosLayout] ‚úÖ Virtual scrolling enabled: 7 total date groups
[GooglePhotosLayout] üìä Rendered: 5 groups | Placeholders: 2 groups
[GooglePhotosLayout] üñºÔ∏è Queued 5 thumbnails for loading (initial limit: 50)
[GooglePhotosLayout] ‚úÖ Photo loading complete! Thumbnails will load progressively.
[16:46:18.606] [AccordionSidebar] Expanding section: quick
[16:46:18.621] [AccordionSidebar] Loading content for section: quick
[16:46:18.621] [AccordionSidebar] Loading Quick Dates section...
[16:46:18.621] [AccordionSidebar] ‚úì Section expanded: quick
[16:46:18.621] [AccordionSidebar] Loaded 6 quick date items
[16:46:18.668] [AccordionSidebar] ‚úì Quick dates section loaded with 6 items
[16:46:23.042] [AccordionSidebar] Expanding section: people
[16:46:23.057] [AccordionSidebar] Loading content for section: people
[16:46:23.057] [AccordionSidebar] Loading People section...
[16:46:23.057] [AccordionSidebar] Loaded 36 face clusters
[16:46:23.231] [AccordionSidebar] ‚úì People section loaded with 36 clusters
[16:46:23.231] [AccordionSidebar] ‚úì Section expanded: people
[16:46:31.966] [AccordionSidebar] Person activated: facecluster:face_001
[GooglePhotosLayout] Accordion branch clicked: branch:facecluster:face_001
[GooglePhotosLayout] üì∑ Loading photos from database (thumb size: 200px) [person=facecluster:face_001]...
[GooglePhotosLayout] üîÑ Clearing existing timeline and thumbnail cache...
[GooglePhotosLayout] üîç Scanning database for photos in project 1...
[GooglePhotosLayout] Filtering by person: facecluster:face_001
[GooglePhotosLayout] üîç SQL Query:

                SELECT DISTINCT pm.path, pm.created_date as date_taken, pm.width, pm.height
                FROM photo_metadata pm
                JOIN project_images pi ON pm.path = pi.image_path
                WHERE pi.project_id = ?


                    AND pm.path IN (
                        SELECT DISTINCT image_path
                        FROM face_crops
                        WHERE project_id = ? AND branch_key = ?
                    )

ORDER BY pm.date_taken DESC
[GooglePhotosLayout] üîç Parameters: [1, 1, 'facecluster:face_001']
[GooglePhotosLayout] üîç Person filter: project_id=1, branch_key=facecluster:face_001
[GooglePhotosLayout] ‚úÖ Found 0 photos in database
[GooglePhotosLayout] üìä Database scan complete - preparing to load thumbnails...
[GooglePhotosLayout] No photos found in project 1
