[SCAN] Processing: screenshot_1764691385.png
[SCAN] ‚úì Metadata extracted: screenshot_1764691385.png [w=1335, h=713, date=None]
2025-12-12 11:51:36,712 [INFO] [Scan] Metadata extracted successfully: screenshot_1764691385.png [w=1335, h=713, date=None]
[SCAN] Creating folder hierarchy for: screenshot_1764691385.png
[SCAN] ‚úì Folder hierarchy created: folder_id=286
[SCAN] ‚úì File processed successfully: screenshot_1764691385.png
[SCAN] Added to batch: screenshot_1764691385.png [batch size: 108/200]
[SCAN] ‚ö° Writing final batch to database: 108 photos
2025-12-12 11:51:36,728 [INFO] Writing final batch of 108 photos to database
[SCAN] üíæ Starting bulk_upsert for 108 photos...
2025-12-12 11:51:36,728 [INFO] [DB] Starting bulk_upsert for 108 photos
2025-12-12 11:51:36,740 [INFO] Bulk upserted 108 photos for project 1
[SCAN] ‚úì Bulk_upsert completed: 108 photos written
2025-12-12 11:51:36,740 [INFO] [DB] Bulk_upsert completed: 108 photos written
[SCAN] ‚úì Final batch write complete
[SCAN] Shutting down executor
2025-12-12 11:51:36,744 [INFO] Executor shutdown complete

[SCAN] === STEP 4: VIDEO PROCESSING ===
[SCAN] total_videos=3
[SCAN] self._cancelled=False
[SCAN] Condition check: 3 > 0 and not False = True
[SCAN] Condition TRUE - calling _process_videos()
2025-12-12 11:51:36,744 [INFO] Processing 3 videos...
[VIDEO_INDEX] Attempting to index: Qouzleh_mitSubtitles-ezgif.com-resize-video.mp4
[VIDEO_INDEX]   project_id=1, folder_id=230
[VIDEO_INDEX]   size_kb=13086.185546875, modified=2025-05-06 18:38:04
[VIDEO_INDEX]   created_ts=1746482400, created_date=2025-05-06, created_year=2025
2025-12-12 11:51:36,791 [INFO] Indexed video C:\Users\suleimaa\Desktop\eigen\Syria\Qouzleh_mitSubtitles-ezgif.com-resize-video.mp4 (id=1, status=pending)
[VIDEO_INDEX] SUCCESS: video_id=1
[VIDEO_INDEX] Attempting to index: Qouzleh_mitSubtitles.mp4
[VIDEO_INDEX]   project_id=1, folder_id=230
[VIDEO_INDEX]   size_kb=57665.9013671875, modified=2025-05-06 16:05:10
[VIDEO_INDEX]   created_ts=1746482400, created_date=2025-05-06, created_year=2025
2025-12-12 11:51:36,807 [INFO] Indexed video C:\Users\suleimaa\Desktop\eigen\Syria\Qouzleh_mitSubtitles.mp4 (id=2, status=pending)
[VIDEO_INDEX] SUCCESS: video_id=2
[VIDEO_INDEX] Attempting to index: Syria-Song.mp4
[VIDEO_INDEX]   project_id=1, folder_id=230
[VIDEO_INDEX]   size_kb=21765.810546875, modified=2025-05-06 15:40:19
[VIDEO_INDEX]   created_ts=1746482400, created_date=2025-05-06, created_year=2025
2025-12-12 11:51:36,823 [INFO] Indexed video C:\Users\suleimaa\Desktop\eigen\Syria\Syria-Song.mp4 (id=3, status=pending)
[VIDEO_INDEX] SUCCESS: video_id=3
2025-12-12 11:51:36,823 [INFO] Indexed 3 videos (metadata extraction pending)
2025-12-12 11:51:36,907 [INFO] Launching background workers for 3 videos...
2025-12-12 11:51:36,923 [INFO] Using ffprobe from settings: C:\ffmpeg\bin\ffprobe.exe
2025-12-12 11:51:36,983 [INFO] ffprobe detected at 'C:\ffmpeg\bin\ffprobe.exe' - video metadata extraction enabled
2025-12-12 11:51:36,983 [INFO] Connected metadata finished callback for sidebar refresh
2025-12-12 11:51:36,983 [INFO] ‚úì Video metadata extraction worker started
2025-12-12 11:51:36,983 [INFO] [VideoMetadataWorker] Starting for project_id=1
2025-12-12 11:51:36,983 [INFO] Using ffmpeg from same directory as ffprobe: C:\ffmpeg\bin\ffmpeg.exe
2025-12-12 11:51:36,983 [INFO] [VideoMetadataWorker] Found 3 videos to process
2025-12-12 11:51:37,007 [INFO] [VideoMetadataWorker] Processing with 8 parallel workers
2025-12-12 11:51:37,023 [INFO] ffmpeg detected at 'C:\ffmpeg\bin\ffmpeg.exe' - video thumbnail generation enabled
2025-12-12 11:51:37,073 [INFO] [VideoMetadataWorker] ‚úì c:\users\suleimaa\desktop\eigen\syria\qouzleh_mitsubtitles-ezgif.com-resize-video.mp4
2025-12-12 11:51:37,096 [INFO] ‚úì Video thumbnail generation worker started
2025-12-12 11:51:37,157 [INFO] üé¨ Processing 3 videos in background (check logs for progress)
2025-12-12 11:51:37,160 [INFO] [VideoThumbnailWorker] Starting for project_id=1
2025-12-12 11:51:37,160 [INFO] [VideoMetadataWorker] ‚úì c:\users\suleimaa\desktop\eigen\syria\syria-song.mp4
2025-12-12 11:51:37,173 [INFO] Scan complete: 108 photos indexed, 3 videos indexed, 0 skipped, 0 failed in 3.3s
2025-12-12 11:51:37,176 [INFO] [VideoMetadataWorker] ‚úì c:\users\suleimaa\desktop\eigen\syria\qouzleh_mitsubtitles.mp4
2025-12-12 11:51:37,176 [INFO] Scan completed: 108 photos, 3 videos, 20 folders in 3.3s
2025-12-12 11:51:37,176 [INFO] [VideoThumbnailWorker] Found 3 videos to process
2025-12-12 11:51:37,176 [INFO] [VideoMetadataWorker] Finished: 3 success, 0 failed
[ScanController] cleanup after scan
2025-12-12 11:51:37,176 [INFO] [VideoThumbnailWorker] Processing with 8 parallel workers
2025-12-12 11:51:37,348 [INFO] Generated thumbnail for c:\users\suleimaa\desktop\eigen\syria\qouzleh_mitsubtitles-ezgif.com-resize-video.mp4 at .thumb_cache\qouzleh_mitsubtitles-ezgif.com-resize-video_mp4_thumb.jpg
2025-12-12 11:51:37,357 [INFO] Generated thumbnail for c:\users\suleimaa\desktop\eigen\syria\syria-song.mp4 at .thumb_cache\syria-song_mp4_thumb.jpg
2025-12-12 11:51:37,357 [INFO] [VideoThumbnailWorker] ‚úì c:\users\suleimaa\desktop\eigen\syria\qouzleh_mitsubtitles-ezgif.com-resize-video.mp4
2025-12-12 11:51:37,390 [INFO] Generated thumbnail for c:\users\suleimaa\desktop\eigen\syria\qouzleh_mitsubtitles.mp4 at .thumb_cache\qouzleh_mitsubtitles_mp4_thumb.jpg
2025-12-12 11:51:37,398 [INFO] [VideoThumbnailWorker] ‚úì c:\users\suleimaa\desktop\eigen\syria\qouzleh_mitsubtitles.mp4
2025-12-12 11:51:37,399 [INFO] Building date branches...
2025-12-12 11:51:37,399 [INFO] Building date branches for project_id=1
[build_date_branches] Using project_id=1
[build_date_branches] Populating 'all' branch with 108 photos for project 1
[build_date_branches] Inserted 108/108 photos into 'all' branch
[build_date_branches] Found 11 unique dates for project 1
[build_date_branches] Date 2024-08-11: found 1 photos for project 1
[build_date_branches] Sample path: c:/users/suleimaa/desktop/eigen/alya/photos/inbox/ammar1.jpeg
[build_date_branches] Date 2024-08-11: inserted 1/1 into project_images (new)
[build_date_branches] Date 2024-10-07: found 7 photos for project 1
[build_date_branches] Sample path: c:/users/suleimaa/desktop/eigen/mietwohnung/1-wohnzimmer.jpeg
[build_date_branches] Date 2024-10-07: inserted 7/7 into project_images (new)
[build_date_branches] Date 2024-11-18: found 1 photos for project 1
[build_date_branches] Sample path: c:/users/suleimaa/desktop/eigen/alya/photos/inbox/ammar2.jpeg
[build_date_branches] Date 2024-11-18: inserted 1/1 into project_images (new)
[build_date_branches] Date 2024-11-29: found 1 photos for project 1
[build_date_branches] Sample path: c:/users/suleimaa/desktop/eigen/alya/photos/inbox/alya1.jpeg
[build_date_branches] Date 2024-11-29: inserted 1/1 into project_images (new)
[build_date_branches] Date 2024-12-02: found 1 photos for project 1
[build_date_branches] Sample path: c:/users/suleimaa/desktop/eigen/alya/photos/inbox/alya2.jpeg
[build_date_branches] Date 2024-12-02: inserted 1/1 into project_images (new)
[build_date_branches] Date 2024-12-16: found 2 photos for project 1
[build_date_branches] Sample path: c:/users/suleimaa/desktop/eigen/syria/cnn/1.jpeg
[build_date_branches] Date 2024-12-16: inserted 2/2 into project_images (new)
[build_date_branches] Date 2025-03-07: found 1 photos for project 1
[build_date_branches] Sample path: c:/users/suleimaa/desktop/eigen/syria/cnn/6.jpg
[build_date_branches] Date 2025-03-07: inserted 1/1 into project_images (new)
[build_date_branches] Date 2025-07-04: found 1 photos for project 1
[build_date_branches] Sample path: c:/users/suleimaa/desktop/eigen/alya/photos/inbox/alya5.jpeg
[build_date_branches] Date 2025-07-04: inserted 1/1 into project_images (new)
[build_date_branches] Date 2025-07-06: found 1 photos for project 1
[build_date_branches] Sample path: c:/users/suleimaa/desktop/eigen/alya/photos/inbox/alya6.jpeg
[build_date_branches] Date 2025-07-06: inserted 1/1 into project_images (new)
[build_date_branches] Date 2025-07-30: found 1 photos for project 1
[build_date_branches] Sample path: c:/users/suleimaa/desktop/eigen/alya/photos/inbox/img_6850.jpeg
[build_date_branches] Date 2025-07-30: inserted 1/1 into project_images (new)
[build_date_branches] Date 2025-08-09: found 2 photos for project 1
[build_date_branches] Sample path: c:/users/suleimaa/desktop/eigen/alya/photos/inbox/img_6934.jpeg
[build_date_branches] Date 2025-08-09: inserted 2/2 into project_images (new)
[build_date_branches] Total entries processed: 19
[build_date_branches] project_images table has 127 rows for project 1
2025-12-12 11:51:37,410 [INFO] Created 19 photo date branch entries for project 1
2025-12-12 11:51:37,410 [INFO] Building video date branches for project_id=1
[build_video_date_branches] Using project_id=1
2025-12-12 11:51:37,413 [INFO] [VideoThumbnailWorker] ‚úì c:\users\suleimaa\desktop\eigen\syria\syria-song.mp4
2025-12-12 11:51:37,414 [INFO] [VideoThumbnailWorker] Finished: 3 success, 0 failed
[build_video_date_branches] Found 3 videos with dates for project 1
[build_video_date_branches] Inserted 3/3 videos into 'all' branch
[build_video_date_branches] Found 1 unique video dates
[build_video_date_branches] Date 2025-05-06: inserted 3/3 (new)
[build_video_date_branches] Total entries processed: 3
[build_video_date_branches] project_videos table has 6 rows for project 1
2025-12-12 11:51:37,433 [INFO] Created 3 video date branch entries for project 1
2025-12-12 11:51:37,436 [INFO] Backfilling created_date fields for photos...
2025-12-12 11:51:37,450 [INFO] Backfilled 89 photo rows with created_date
2025-12-12 11:51:37,451 [INFO] Backfilling created_date fields for videos...
[FaceConfig] Loaded from C:\Users\suleimaa\.memorymate\face_detection_config.json
2025-12-12 11:51:37,489 [INFO] Main scan operations complete. Remaining: set()
2025-12-12 11:51:37,489 [INFO] ‚úì All scan operations complete. Triggering final refresh...
2025-12-12 11:51:37,588 [INFO] üîÑ Starting final coordinated refresh...
2025-12-12 11:51:37,590 [INFO] Reloading sidebar after date branches built...
[11:51:37.593] [AccordionSidebar] Reloading all sections...
[11:51:37.593] [AccordionSidebar] Loading content for section: people
[11:51:37.593] [AccordionSidebar] Loading People section...
[11:51:37.593] [AccordionSidebar] Loading content for section: dates
[11:51:37.593] [AccordionSidebar] Loading Dates section...
[11:51:37.593] [AccordionSidebar] Loading content for section: folders
[11:51:37.593] [AccordionSidebar] Loading Folders section...
[11:51:37.593] [AccordionSidebar] Loading content for section: videos
[11:51:37.594] [AccordionSidebar] Loading Videos section...
[11:51:37.594] [AccordionSidebar] Loading content for section: tags
[11:51:37.594] [AccordionSidebar] Loading Tags section...
[11:51:37.594] [AccordionSidebar] Loading content for section: branches
[11:51:37.596] [AccordionSidebar] Loading Branches section...
[11:51:37.599] [AccordionSidebar] Loading content for section: quick
[11:51:37.600] [AccordionSidebar] Loading Quick Dates section...
[11:51:37.600] [AccordionSidebar] Quick dates reload generation: 1

[GRID] ====== reload() CALLED ======
[GRID] project_id=1, load_mode=branch
[GRID] Step 1: Setting _reloading=True
[GRID] Fetched tags for 0 paths, got 0 entries
[GRID] Loaded 0 thumbnails.
[GRID] Reloaded 0 thumbnails in None-mode (base=0)
[GRID] Step 5: Emitting gridReloaded signal...

[Breadcrumb] _update_breadcrumb() CALLED
[Breadcrumb] Grid state: navigation_mode=branch, project_id=1
[Breadcrumb] Looking for CURRENT project_id=1 in 1 projects
[Breadcrumb] Found CURRENT project name: P01
[Breadcrumb] Added project segment: P01
[Breadcrumb] Added branch segment: All Photos
[Breadcrumb] Calling set_path() with 2 segments
[BreadcrumbNav] set_path() called with 2 segments
[BreadcrumbNav] Clearing 3 existing widgets
[BreadcrumbNav] Cleared all existing widgets
[BreadcrumbNav] Added segment 0: P01
[11:51:37.607] [AccordionSidebar] Loaded 6 quick date items (gen 1)
[BreadcrumbNav] Added segment 1: All Photos
[BreadcrumbNav] set_path() completed - 2 segments added
[Breadcrumb] set_path() completed successfully
[Breadcrumb] _update_breadcrumb() COMPLETED

[GRID] Step 5: ‚úì gridReloaded signal emitted
[GRID] ====== reload() COMPLETED SUCCESSFULLY ======

[GRID] Finally block: Setting _reloading=False
[11:51:37.704] [AccordionSidebar] ‚úì Quick dates section loaded with 6 items
2025-12-12 11:51:37,709 [INFO] Refreshing Google Photos layout after scan...
[GooglePhotosLayout] üì∑ Loading photos from database (thumb size: 200px)...
[GooglePhotosLayout] üîÑ Clearing existing timeline and thumbnail cache...
[GooglePhotosLayout] üîç Starting async photo load (generation 3)...
[GooglePhotosLayout] ‚úÖ Photo load worker started (generation 3)
2025-12-12 11:51:37,709 [INFO] ‚úì Google Photos layout refreshed
2025-12-12 11:51:37,723 [INFO] ‚úÖ Final refresh complete: 0 photos, 0 videos
2025-12-12 11:51:37,726 [INFO] Photo query complete: generation=3, current=3, rows=111
[GooglePhotosLayout] üìÖ Grouping 111 photos by date...
[GooglePhotosLayout] ‚úÖ Grouped into 38 date groups
[GooglePhotosLayout] Tracking 111 paths for multi-selection
[GooglePhotosLayout] üöÄ Setting up virtual scrolling for 38 date groups...
[GooglePhotosLayout] üìê Responsive grid: 7 columns (viewport: 1517px, thumb: 200px)
[GooglePhotosLayout] ‚úÖ Virtual scrolling enabled: 38 total date groups
[GooglePhotosLayout] üìä Rendered: 5 groups | Placeholders: 33 groups
[GooglePhotosLayout] üñºÔ∏è Queued 18 thumbnails for loading (initial limit: 50)
[GooglePhotosLayout] ‚úÖ Photo loading complete! Thumbnails will load progressively.
[11:51:42.431] [AccordionSidebar] Expanding section: folders
[11:51:42.436] [AccordionSidebar] Loading content for section: folders
[11:51:42.436] [AccordionSidebar] Loading Folders section...
[11:51:42.436] [AccordionSidebar] ‚úì Section expanded: folders
[11:51:47.955] [AccordionSidebar] Expanding section: videos
[11:51:47.971] [AccordionSidebar] Loading content for section: videos
[11:51:47.971] [AccordionSidebar] Loading Videos section...
[11:51:47.971] [AccordionSidebar] ‚úì Section expanded: videos
[11:51:53.979] [AccordionSidebar] Expanding section: tags
[11:51:53.990] [AccordionSidebar] Loading content for section: tags
[11:51:53.990] [AccordionSidebar] Loading Tags section...
[11:51:53.990] [AccordionSidebar] ‚úì Section expanded: tags
[GooglePhotosLayout] üì∑ Loading photos from database (thumb size: 200px)...
[GooglePhotosLayout] üîÑ Clearing existing timeline and thumbnail cache...
[GooglePhotosLayout] üîç Starting async photo load (generation 4)...
[GooglePhotosLayout] ‚úÖ Photo load worker started (generation 4)
2025-12-12 11:51:59,204 [INFO] Photo query complete: generation=4, current=4, rows=111
[GooglePhotosLayout] üìÖ Grouping 111 photos by date...
[GooglePhotosLayout] ‚úÖ Grouped into 38 date groups
[GooglePhotosLayout] Tracking 111 paths for multi-selection
[GooglePhotosLayout] üöÄ Setting up virtual scrolling for 38 date groups...
[GooglePhotosLayout] ‚úÖ Virtual scrolling enabled: 38 total date groups
[GooglePhotosLayout] üìä Rendered: 5 groups | Placeholders: 33 groups
[GooglePhotosLayout] üñºÔ∏è Queued 18 thumbnails for loading (initial limit: 50)
[GooglePhotosLayout] ‚úÖ Photo loading complete! Thumbnails will load progressively.
[GooglePhotosLayout] üì∑ Loading photos from database (thumb size: 200px)...
[GooglePhotosLayout] üîÑ Clearing existing timeline and thumbnail cache...
[GooglePhotosLayout] üîç Starting async photo load (generation 5)...
[GooglePhotosLayout] ‚úÖ Photo load worker started (generation 5)
2025-12-12 11:52:00,940 [INFO] Photo query complete: generation=5, current=5, rows=111
[GooglePhotosLayout] üìÖ Grouping 111 photos by date...
[GooglePhotosLayout] ‚úÖ Grouped into 38 date groups
[GooglePhotosLayout] Tracking 111 paths for multi-selection
[GooglePhotosLayout] üöÄ Setting up virtual scrolling for 38 date groups...
[GooglePhotosLayout] ‚úÖ Virtual scrolling enabled: 38 total date groups
[GooglePhotosLayout] üìä Rendered: 5 groups | Placeholders: 33 groups
[GooglePhotosLayout] üñºÔ∏è Queued 18 thumbnails for loading (initial limit: 50)
[GooglePhotosLayout] ‚úÖ Photo loading complete! Thumbnails will load progressively.
[MediaLightbox] Screen: 1920x1200 (DPI: 1.0x)
[MediaLightbox] Window: 1766x1104 (92% of screen)
[MediaLightbox] _position_nav_buttons: Missing attributes (prev_btn=False, scroll_area=False)
[MediaLightbox] resizeEvent: media not loaded yet, triggering load...
[MediaLightbox] showEvent triggered, _media_loaded=False
[MediaLightbox] Scheduling media load in 100ms...
[MediaLightbox] Creating overlay navigation buttons...
[MediaLightbox] ‚úì Nav buttons created and shown
[MediaLightbox] showEvent triggered, _media_loaded=False
[MediaLightbox] Nav buttons raised to top in showEvent
[MediaLightbox] Scheduling media load in 100ms...
[MediaLightbox] ‚úì Nav buttons positioned: left=16, right=1702, y=528
[MediaLightbox] _load_media called for: parkausweis.jpg
[MediaLightbox] Loading photo: parkausweis.jpg
[MediaLightbox] Starting progressive load...
[EXIFParser] ‚úì HEIC/HEIF support enabled (pillow-heif)
[ProgressiveImageWorker] ‚úì Thumbnail loaded: parkausweis.jpg
[MediaLightbox] Preloading: r1.jpg
[MediaLightbox] Preloading: r2.jpg
[MediaLightbox] Filmstrip: Showing 11 thumbnails (range 0-11 of 111)
[MediaLightbox] Zoom state restored: fit @ 100%
[MediaLightbox] Filmstrip: Showing 11 thumbnails (range 0-11 of 111)
[SIGNAL] _on_thumbnail_loaded called, pixmap=valid
[SIGNAL] Viewport size: 1766x1024
[MediaLightbox] ‚úì Thumbnail displayed (progressive load)
[ProgressiveImageWorker] ‚úì Full quality loaded: parkausweis.jpg
[SIGNAL] _on_full_quality_loaded called, pixmap=valid
[MediaLightbox] ‚úì Full quality displayed (progressive load complete)
[MediaLightbox] ‚úì Full quality displayed (progressive load complete)
[PreloadImageWorker] ‚úì Preloaded: r1.jpg
[MediaLightbox] ‚úì Cached: r1.jpg (cache size: 1)
[PreloadImageWorker] ‚úì Preloaded: r2.jpg
[MediaLightbox] ‚úì Cached: r2.jpg (cache size: 2)
[MediaLightbox] Closing - cleaning up resources...
[MediaLightbox] ‚úì Preload thread pool stopped
[MediaLightbox] ‚úì All resources cleaned up
[11:52:12.586] [AccordionSidebar] Expanding section: dates
[11:52:12.602] [AccordionSidebar] Loading content for section: dates
[11:52:12.602] [AccordionSidebar] Loading Dates section...
[11:52:12.602] [AccordionSidebar] ‚úì Section expanded: dates
[11:52:14.440] [AccordionSidebar] Expanding section: folders
[11:52:14.455] [AccordionSidebar] Loading content for section: folders
[11:52:14.455] [AccordionSidebar] Loading Folders section...
[11:52:14.455] [AccordionSidebar] ‚úì Section expanded: folders
[11:52:15.306] [AccordionSidebar] Expanding section: videos
[11:52:15.324] [AccordionSidebar] Loading content for section: videos
[11:52:15.324] [AccordionSidebar] Loading Videos section...
[11:52:15.324] [AccordionSidebar] ‚úì Section expanded: videos
[11:52:16.362] [AccordionSidebar] Expanding section: tags
[11:52:16.380] [AccordionSidebar] Loading content for section: tags
[11:52:16.383] [AccordionSidebar] Loading Tags section...
[11:52:16.383] [AccordionSidebar] ‚úì Section expanded: tags
[11:52:17.476] [AccordionSidebar] Expanding section: branches
[11:52:17.484] [AccordionSidebar] Loading content for section: branches
[11:52:17.489] [AccordionSidebar] Loading Branches section...
[11:52:17.489] [AccordionSidebar] ‚úì Section expanded: branches
[GooglePhotosLayout] üé® Rendering 3 date groups that entered viewport...
[GooglePhotosLayout] ‚úì Now 8/38 groups rendered
[GooglePhotosLayout] üé® Rendering 4 date groups that entered viewport...
[GooglePhotosLayout] ‚úì Now 12/38 groups rendered
[GooglePhotosLayout] üé® Rendering 2 date groups that entered viewport...
[GooglePhotosLayout] Deferred thumbnail #51: 9.png
[GooglePhotosLayout] ‚úì Now 14/38 groups rendered
2025-12-12 11:52:22,177 [INFO] Using ffmpeg from same directory as ffprobe: C:\ffmpeg\bin\ffmpeg.exe
2025-12-12 11:52:22,177 [INFO] Using ffmpeg from same directory as ffprobe: C:\ffmpeg\bin\ffmpeg.exe
2025-12-12 11:52:22,193 [WARNING] Cannot open image file c:/users/suleimaa/desktop/eigen/syria/chatgpt image 6. mai 2025, 16_50_55.png: cannot identify image file 'c:/users/suleimaa/desktop/eigen/syria/chatgpt image 6. mai 2025, 16_50_55.png'
2025-12-12 11:52:22,193 [INFO] Marked as failed (will not retry): c:/users/suleimaa/desktop/eigen/syria/chatgpt image 6. mai 2025, 16_50_55.png
2025-12-12 11:52:22,219 [INFO] Using ffmpeg from same directory as ffprobe: C:\ffmpeg\bin\ffmpeg.exe
2025-12-12 11:52:22,257 [INFO] ffmpeg detected at 'C:\ffmpeg\bin\ffmpeg.exe' - video thumbnail generation enabled
2025-12-12 11:52:22,257 [INFO] ffmpeg detected at 'C:\ffmpeg\bin\ffmpeg.exe' - video thumbnail generation enabled
2025-12-12 11:52:22,275 [INFO] ffmpeg detected at 'C:\ffmpeg\bin\ffmpeg.exe' - video thumbnail generation enabled
[ThumbnailLoader] ‚úì Video thumbnail: qouzleh_mitsubtitles-ezgif.com-resize-video.mp4
[ThumbnailLoader] ‚úì Video thumbnail: syria-song.mp4
[ThumbnailLoader] ‚úì Video thumbnail: qouzleh_mitsubtitles.mp4
[GooglePhotosLayout] üìú Scroll detected, loading 1 visible thumbnails...
[GooglePhotosLayout] ‚úì Loaded 1 thumbnails, 0 remaining
[GooglePhotosLayout] Photo clicked: c:/users/suleimaa/desktop/eigen/syria/chatgpt image 6. mai 2025, 16_50_55.png
[GooglePhotosLayout] üëÅÔ∏è Opening lightbox for: c:/users/suleimaa/desktop/eigen/syria/chatgpt image 6. mai 2025, 16_50_55.png
[MediaLightbox] Screen: 1920x1200 (DPI: 1.0x)
[MediaLightbox] Window: 1766x1104 (92% of screen)
[MediaLightbox] _position_nav_buttons: Missing attributes (prev_btn=False, scroll_area=False)
[MediaLightbox] resizeEvent: media not loaded yet, triggering load...
[MediaLightbox] showEvent triggered, _media_loaded=False
[MediaLightbox] Scheduling media load in 100ms...
[MediaLightbox] Creating overlay navigation buttons...
[MediaLightbox] ‚úì Nav buttons created and shown
[MediaLightbox] showEvent triggered, _media_loaded=False
[MediaLightbox] Nav buttons raised to top in showEvent
[MediaLightbox] Scheduling media load in 100ms...
[MediaLightbox] ‚úì Nav buttons positioned: left=16, right=1702, y=528
[MediaLightbox] _load_media called for: chatgpt image 6. mai 2025, 16_50_55.png
[MediaLightbox] Loading photo: chatgpt image 6. mai 2025, 16_50_55.png
[MediaLightbox] Starting progressive load...
[ProgressiveImageWorker] ‚ö†Ô∏è Error loading c:/users/suleimaa/desktop/eigen/syria/chatgpt image 6. mai 2025, 16_50_55.png: cannot identify image file 'c:/users/suleimaa/desktop/eigen/syria/chatgpt image 6. mai 2025, 16_50_55.png'
[EXIFParser] ‚úì HEIC/HEIF support enabled (pillow-heif)
[EXIFParser] Error parsing full EXIF: cannot identify image file 'c:/users/suleimaa/desktop/eigen/syria/chatgpt image 6. mai 2025, 16_50_55.png'
[MediaLightbox] Color palette error: cannot identify image file 'c:/users/suleimaa/desktop/eigen/syria/chatgpt image 6. mai 2025, 16_50_55.png'
[MediaLightbox] Filmstrip: Showing 21 thumbnails (range 26-47 of 111)
[MediaLightbox] Zoom state restored: fit @ 100%
[MediaLightbox] Filmstrip: Showing 21 thumbnails (range 26-47 of 111)
Traceback (most recent call last):
  File "C:\Users\suleimaa\Downloads\Photo-Sorter\09.45.01.01-Photo-App\MemoryMate-PhotoFlow-Refactored-main-03\layouts\google_layout.py", line 458, in run
    pil_image = Image.open(self.path)
                ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suleimaa\Downloads\WinPython\WPy64-31101\python-3.11.0.amd64\Lib\site-packages\PIL\Image.py", line 3560, in open
    raise UnidentifiedImageError(msg)
PIL.UnidentifiedImageError: cannot identify image file 'c:/users/suleimaa/desktop/eigen/syria/chatgpt image 6. mai 2025, 16_50_55.png'
[ProgressiveImageWorker] ‚úì Emitted error placeholder for: chatgpt image 6. mai 2025, 16_50_55.png
[SIGNAL] _on_thumbnail_loaded called, pixmap=valid
[SIGNAL] Viewport size: 1766x1024
[MediaLightbox] ‚úì Thumbnail displayed (progressive load)
[SIGNAL] _on_full_quality_loaded called, pixmap=valid
[MediaLightbox] ‚úì Full quality displayed (progressive load complete)
[MediaLightbox] ‚úì Full quality displayed (progressive load complete)
[MediaLightbox] Next clicked at index=36 of 111
[MediaLightbox] Zoom state saved: fit @ 235%
[MediaLightbox] ‚Üí Loading next: qouzleh_mitsubtitles-ezgif.com-resize-video.mp4 (idx=37)
[MediaLightbox] _load_media called for: qouzleh_mitsubtitles-ezgif.com-resize-video.mp4
[MediaLightbox] Loading video: qouzleh_mitsubtitles-ezgif.com-resize-video.mp4
[MediaLightbox] ‚úì Video signals disconnected
[MediaLightbox] ‚úì Video signals connected
[MediaLightbox] Video widget sized: 1766x1024
[EXIFParser] ‚úì HEIC/HEIF support enabled (pillow-heif)
[EXIFParser] Error parsing full EXIF: cannot identify image file 'c:\\users\\suleimaa\\desktop\\eigen\\syria\\qouzleh_mitsubtitles-ezgif.com-resize-video.mp4'
[MediaLightbox] Color palette error: cannot identify image file 'c:\\users\\suleimaa\\desktop\\eigen\\syria\\qouzleh_mitsubtitles-ezgif.com-resize-video.mp4'
[MediaLightbox] ‚úì Video player started: qouzleh_mitsubtitles-ezgif.com-resize-video.mp4
Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'c:/users/suleimaa/desktop/eigen/syria/qouzleh_mitsubtitles-ezgif.com-resize-video.mp4':
  Metadata:
    major_brand     : isom
    minor_version   : 512
    compatible_brands: isomiso2avc1mp41
    encoder         : Lavf60.16.100
    comment         : MP4 resized with https://ezgif.com/resize-video
  Duration: 00:01:15.95, start: 0.000000, bitrate: 1411 kb/s
  Stream #0:0[0x1](und): Video: h264 (High) (avc1 / 0x31637661), yuvj420p(pc, bt709, progressive), 640x360 [SAR 1:1 DAR 16:9], 1274 kb/s, 30 fps, 30 tbr, 15360 tbn (default)
      Metadata:
        handler_name    : VideoHandler
        vendor_id       : [0][0][0][0]
        encoder         : Lavc60.31.102 libx264
  Stream #0:1[0x2](und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 127 kb/s (default)
      Metadata:
        handler_name    : SoundHandler
        vendor_id       : [0][0][0][0]
[MediaLightbox] Fit video to view after media loaded
[MediaLightbox] Fit video to view after media loaded
[MediaLightbox] Next clicked at index=37 of 111
[MediaLightbox] Zoom state saved: fit @ 235%
[MediaLightbox] ‚Üí Loading next: qouzleh_mitsubtitles.mp4 (idx=38)
[MediaLightbox] _load_media called for: qouzleh_mitsubtitles.mp4
[MediaLightbox] Loading video: qouzleh_mitsubtitles.mp4
[MediaLightbox] Stopping previous video...
[MediaLightbox] Fit video to view after media loaded
[MediaLightbox] ‚úì Previous video stopped and cleaned up
[MediaLightbox] Video widget sized: 1754x932
[EXIFParser] ‚úì HEIC/HEIF support enabled (pillow-heif)
[EXIFParser] Error parsing full EXIF: cannot identify image file 'c:\\users\\suleimaa\\desktop\\eigen\\syria\\qouzleh_mitsubtitles.mp4'
[MediaLightbox] Color palette error: cannot identify image file 'c:\\users\\suleimaa\\desktop\\eigen\\syria\\qouzleh_mitsubtitles.mp4'
[MediaLightbox] ‚úì Video player started: qouzleh_mitsubtitles.mp4
Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'c:/users/suleimaa/desktop/eigen/syria/qouzleh_mitsubtitles.mp4':
  Metadata:
    major_brand     : isom
    minor_version   : 512
    compatible_brands: isomiso2avc1mp41
    encoder         : Lavf61.7.100
  Duration: 00:01:15.94, start: 0.000000, bitrate: 6220 kb/s
  Stream #0:0[0x1](und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 224 kb/s (default)
      Metadata:
        handler_name    : SoundHandler
        vendor_id       : [0][0][0][0]
  Stream #0:1[0x2](und): Video: h264 (Main) (avc1 / 0x31637661), yuvj420p(pc, bt709, progressive), 1280x720 [SAR 1:1 DAR 16:9], 5986 kb/s, 30 fps, 30 tbr, 15360 tbn (default)
      Metadata:
        handler_name    : VideoHandler
        vendor_id       : [0][0][0][0]
[MediaLightbox] Fit video to view after media loaded
[MediaLightbox] Fit video to view after media loaded
[MediaLightbox] Next clicked at index=38 of 111
[MediaLightbox] Zoom state saved: fit @ 235%
[MediaLightbox] ‚Üí Loading next: syria-song.mp4 (idx=39)
[MediaLightbox] _load_media called for: syria-song.mp4
[MediaLightbox] Loading video: syria-song.mp4
[MediaLightbox] Stopping previous video...
[MediaLightbox] Fit video to view after media loaded
[MediaLightbox] ‚úì Previous video stopped and cleaned up
[MediaLightbox] Video widget sized: 1766x944
[EXIFParser] ‚úì HEIC/HEIF support enabled (pillow-heif)
[EXIFParser] Error parsing full EXIF: cannot identify image file 'c:\\users\\suleimaa\\desktop\\eigen\\syria\\syria-song.mp4'
[MediaLightbox] Color palette error: cannot identify image file 'c:\\users\\suleimaa\\desktop\\eigen\\syria\\syria-song.mp4'
[MediaLightbox] ‚úì Video player started: syria-song.mp4
Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'c:/users/suleimaa/desktop/eigen/syria/syria-song.mp4':
  Metadata:
    major_brand     : isom
    minor_version   : 512
    compatible_brands: isomiso2avc1mp41
  Duration: 00:01:16.02, start: 0.000000, bitrate: 2345 kb/s
  Stream #0:0[0x1](und): Video: h264 (High) (avc1 / 0x31637661), yuv420p(tv, bt709, progressive), 1280x720, 2293 kb/s, 29.39 fps, 29.39 tbr, 14696 tbn (default)
      Metadata:
        handler_name    : VideoHandler
        vendor_id       : [0][0][0][0]
        encoder         : AVC Coding
  Stream #0:1[0x2](und): Audio: aac (HE-AAC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 48 kb/s (default)
      Metadata:
        handler_name    : SoundHandler
        vendor_id       : [0][0][0][0]
[MediaLightbox] Fit video to view after media loaded
[aac @ 0000012DBF50CFC0] Could not update timestamps for skipped samples.
[MediaLightbox] Fit video to view after media loaded
[MediaLightbox] Next clicked at index=39 of 111
[MediaLightbox] Zoom state saved: fit @ 235%
[MediaLightbox] ‚Üí Loading next: 10.png (idx=40)
[MediaLightbox] _load_media called for: 10.png
[MediaLightbox] Fit video to view after media loaded
[MediaLightbox] Loading photo: 10.png
[MediaLightbox] Starting progressive load...
[EXIFParser] ‚úì HEIC/HEIF support enabled (pillow-heif)
[ProgressiveImageWorker] ‚úì Thumbnail loaded: 10.png
[MediaLightbox] Preloading: 11.jpg
[MediaLightbox] Preloading: 13.jpg
[MediaLightbox] Filmstrip: Showing 21 thumbnails (range 30-51 of 111)
[MediaLightbox] Zoom state restored: fit @ 235%
[SIGNAL] _on_thumbnail_loaded called, pixmap=valid
[SIGNAL] Viewport size: 1766x1024
[MediaLightbox] ‚úì Thumbnail displayed (progressive load)
[ProgressiveImageWorker] ‚úì Full quality loaded: 10.png
[SIGNAL] _on_full_quality_loaded called, pixmap=valid
[MediaLightbox] ‚úì Full quality displayed (progressive load complete)
[MediaLightbox] ‚úì Full quality displayed (progressive load complete)
[PreloadImageWorker] ‚úì Preloaded: 13.jpg
[MediaLightbox] ‚úì Cached: 13.jpg (cache size: 1)
[PreloadImageWorker] ‚úì Preloaded: 11.jpg
[MediaLightbox] ‚úì Cached: 11.jpg (cache size: 2)
[MediaLightbox] Next clicked at index=40 of 111
[MediaLightbox] Zoom state saved: fit @ 192%
[MediaLightbox] ‚Üí Loading next: 11.jpg (idx=41)
[MediaLightbox] _load_media called for: 11.jpg
[MediaLightbox] Loading photo: 11.jpg
[MediaLightbox] ‚úì Loading from cache (INSTANT!)
[MediaLightbox] ‚úì Loaded from cache instantly!
[EXIFParser] ‚úì HEIC/HEIF support enabled (pillow-heif)
[MediaLightbox] Preloading: 14.jpg
[MediaLightbox] Filmstrip: Showing 21 thumbnails (range 31-52 of 111)
[MediaLightbox] Zoom state restored: fit @ 192%
[PreloadImageWorker] ‚úì Preloaded: 14.jpg
[MediaLightbox] ‚úì Cached: 14.jpg (cache size: 3)
[MediaLightbox] Closing - cleaning up resources...
[MediaLightbox] ‚úì Video signals disconnected
[MediaLightbox] ‚úì Video player cleaned up
[MediaLightbox] ‚úì Audio output cleaned up
[MediaLightbox] ‚úì Preload thread pool stopped
[MediaLightbox] ‚úì All resources cleaned up
[GooglePhotosLayout] ‚úì MediaLightbox closed
[GooglePhotosLayout] ‚úì Refreshed tag badges for 1 photos
[11:52:43.110] [AccordionSidebar] Expanding section: people
[11:52:43.110] [AccordionSidebar] Loading content for section: people
[11:52:43.126] [AccordionSidebar] Loading People section...
[11:52:43.128] [AccordionSidebar] ‚úì Section expanded: people
[11:52:44.876] [AccordionSidebar] Expanding section: folders
[11:52:44.885] [AccordionSidebar] Loading content for section: folders
[11:52:44.885] [AccordionSidebar] Loading Folders section...
[11:52:44.885] [AccordionSidebar] ‚úì Section expanded: folders
[LayoutManager] Switching layout: google ‚Üí current
[GooglePhotosLayout] Cleaning up resources...
[GooglePhotosLayout]   ‚Ü≥ Disconnecting signals...
[GooglePhotosLayout]   ‚úì Signals disconnected
[GooglePhotosLayout]   ‚Ü≥ Removing event filters...
[GooglePhotosLayout]   ‚úì Event filters removed
[GooglePhotosLayout]   ‚Ü≥ Stopping timers...
[GooglePhotosLayout]   ‚úì Timers stopped
[GooglePhotosLayout]   ‚Ü≥ Cleaning up thread pools...
[GooglePhotosLayout]   ‚úì Thread pools cleaned
[GooglePhotosLayout]   ‚Ü≥ Clearing caches...
[GooglePhotosLayout]   ‚úì Caches cleared
[GooglePhotosLayout]   ‚Ü≥ Stopping animations...
[GooglePhotosLayout]   ‚úì Animations stopped
[LayoutManager] üîÑ Restoring original central widget: QWidget
[CurrentLayout] Layout activated - scheduling deferred refresh
[LayoutManager] ‚úì Switched to: Current Layout
[MainWindow] ‚úì Switched to layout: current
[CurrentLayout] Executing deferred reload...
[CurrentLayout] Reloading sidebar...
[SidebarQt] reload() called, display_mode=list, tabs_visible=False
[SidebarQt] Calling _build_tree_model() instead of tabs refresh
[SidebarQt] _build_tree_model() called with project_id=1
[Sidebar] Detaching old model from tree view
[Sidebar] Pending events processed (skipped explicit processEvents)
[Sidebar] Creating fresh model (avoiding Qt segfault)
[Sidebar] Attaching fresh model to tree view
[SidebarQt] list_branches() returned 1 branches
[SidebarQt] Sample branches: [{'branch_key': 'all', 'display_name': 'üìÅ All Photos', 'count': 108}]
[Sidebar] Loaded 24 folder counts in batch (performance optimization)
[Sidebar] Loaded date counts in batch: 3 years, 15 months, 38 days
[Sidebar] Loading videos for project_id=1
[Sidebar] Found 3 videos in project 1
[VideoDateHierarchy] Building: 1 years, 1 months, 3 videos
[Sidebar] Added üé¨ Videos section with 3 videos and filters.

[Sidebar] ===== Initiating mobile device scan from sidebar =====
[Sidebar] Database: <reference_db.ReferenceDB object at 0x0000012DDC32A5D0>
[Sidebar] Register devices: True

[DeviceScanner] ===== Starting device scan  =====
[DeviceScanner] Platform: Windows
[DeviceScanner] Database registration: enabled
[DeviceScanner] Scanning Windows drives...
[DeviceScanner]   Checking drive letters D:-Z:...
[DeviceScanner]     Drive H: exists, checking...
[DeviceScanner]           Checking path: H:\
[DeviceScanner]           Directories found: []
[DeviceScanner]           Has DCIM folder: False
[DeviceScanner]           No alternate structure found
[DeviceScanner]           Checking subdirectories for DCIM (MTP mounts)...
[DeviceScanner]           REJECTED: No DCIM or alternate structure
[DeviceScanner]       ‚úó No device on drive H:
[DeviceScanner]     Drive P: exists, checking...
[DeviceScanner]           Checking path: P:\
[DeviceScanner]           Directories found: ['ALT', 'ALT2', 'ALT3', 'CITRIX', 'CONFIDENTIAL', 'GLOBAL', 'HOME', 'PROJECTS1', 'PROJECTS2', 'PROJECTS3', 'PROJECTS4', 'PROJECTS5', 'PROJECTS6', 'PROJECTS7']
[DeviceScanner]           Has DCIM folder: False
[DeviceScanner]           No alternate structure found
[DeviceScanner]           Checking subdirectories for DCIM (MTP mounts)...
[DeviceScanner]           REJECTED: No DCIM or alternate structure
[DeviceScanner]       ‚úó No device on drive P:
[DeviceScanner]   Checking portable devices (MTP/PTP)...
[DeviceScanner]     Attempting Shell COM enumeration...
[DeviceScanner]     COM initialized for current thread
[DeviceScanner]     Found 3 items under 'This PC'
[DeviceScanner]       ‚Üí Item: '(C:) Lokaler Datentr√§ger' | IsFolder=True | IsFileSystem=True
[DeviceScanner]       ‚Üí Item: '(H:) SULEIMAA (\\ACCOUNTS.INTERN\SHARES\HOME)' | IsFolder=True | IsFileSystem=True
[DeviceScanner]       ‚Üí Item: '(P:) SHARES (\\ACCOUNTS.INTERN)' | IsFolder=True | IsFileSystem=True
[DeviceScanner]     COM uninitialized
[DeviceScanner] ===== Scan complete: 0 device(s) found =====
[DeviceScanner] Results cached for 5.0s

[Sidebar] ===== Scan complete: 0 mobile device(s) found =====
[Sidebar]   ‚úó No devices found
[Sidebar] ===== End device scan =====

[Sidebar] No mobile devices detected - added help message
[Sidebar] starting async count population for 1 branch targets
[Sidebar][counts worker gen=4] running for 1 targets...
[CurrentLayout] ‚úì Sidebar reload completed
[CurrentLayout] Reloading grid...

[GRID] ====== reload() CALLED ======
[GRID] project_id=1, load_mode=branch
[GRID] Step 1: Setting _reloading=True
[GRID] Fetched tags for 0 paths, got 0 entries
[Sidebar][counts worker gen=4] finished scanning targets, scheduling UI update
[GRID] Loaded 0 thumbnails.
[GRID] Reloaded 0 thumbnails in None-mode (base=0)
[GRID] Step 5: Emitting gridReloaded signal...

[Breadcrumb] _update_breadcrumb() CALLED
[Breadcrumb] Grid state: navigation_mode=branch, project_id=1
[Breadcrumb] Looking for CURRENT project_id=1 in 1 projects
[Breadcrumb] Found CURRENT project name: P01
[Breadcrumb] Added project segment: P01
[Breadcrumb] Added branch segment: All Photos
[Breadcrumb] Calling set_path() with 2 segments
[BreadcrumbNav] set_path() called with 2 segments
[BreadcrumbNav] Clearing 3 existing widgets
[BreadcrumbNav] Cleared all existing widgets
[BreadcrumbNav] Added segment 0: P01
[BreadcrumbNav] Added segment 1: All Photos
[BreadcrumbNav] set_path() completed - 2 segments added
[Breadcrumb] set_path() completed successfully
[Breadcrumb] _update_breadcrumb() COMPLETED

[GRID] Step 5: ‚úì gridReloaded signal emitted
[GRID] ====== reload() COMPLETED SUCCESSFULLY ======

[GRID] Finally block: Setting _reloading=False
[CurrentLayout] ‚úì Grid reload completed
[Sidebar][counts applied] updated UI with counts
